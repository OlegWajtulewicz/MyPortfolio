(()=>{"use strict";window.onload=function(){let e=document.getElementById("preloader");e.classList.add("hide-preloader"),setInterval((function(){e.classList.add("preloader-hidden")}),990)},$(window).scroll((function(){$(this).scrollTop()>600?$(".pageup").fadeIn():$(".pageup").fadeOut()})),$(document).ready((function(){$("a").on("click",(function(e){if(""!==this.hash){e.preventDefault();let t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top},500,(function(){window.location.hash=t}))}}))})),function(){const e=document.body,t=document.getElementById("themeChangeIcon");let o=document.querySelector("meta[name=theme-color]");function l(){let t=getComputedStyle(e).getPropertyValue("--background-color");o.setAttribute("content",t)}if(t.addEventListener("click",(function(){""==e.className?(e.classList.toggle("dark-theme"),l()):"dark-theme"==e.className?(e.classList.replace("dark-theme","light"),t.classList.remove("icon-icon_sun"),t.classList.add("icon-moon-solid"),l()):"light"==e.className&&(e.classList.replace("light","dark-theme"),t.classList.add("icon-icon_sun"),t.classList.remove("icon-moon-solid"),l()),localStorage.setItem("themeType",e.className)})),null!=localStorage.getItem("themeType")){let o=localStorage.themeType;e.className=o,l(),"dark-theme"==localStorage.getItem("themeType")&&(t.checked=!0,t.classList.remove("icon-moon-solid"),t.classList.add("icon-icon_sun"))}let s=window.matchMedia;s&&s("(prefers-color-scheme: dark)").matches}(),window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".menu"),t=document.querySelectorAll(".menu__link"),o=document.querySelector(".burger"),l=document.querySelector("body"),s=document.querySelector(".menu__overlay");o.addEventListener("click",(()=>{o.classList.toggle("active"),e.classList.toggle("active"),l.classList.toggle("lock")})),t.forEach((t=>{t.addEventListener("click",(()=>{o.classList.toggle("active"),e.classList.toggle("active"),l.classList.toggle("lock")})),s.addEventListener("click",(()=>{o.classList.remove("active"),e.classList.remove("active"),l.classList.remove("lock")}))}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),window.getComputedStyle(document.body).getPropertyValue("--swiper-slider-speed"),document.body.style.setProperty("--swiper-slider-speed","2500ms"),new Swiper(".swiper-container",{slidesPerView:1,loop:!0,spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},speed:2500,pagination:{el:".swiper__pag",type:"bullets",clickable:!0},on:{init:function(){document.querySelectorAll(".swiper__pag .swiper-pagination-bullet").forEach((e=>{e.innerHTML='<span class="swiper__bar"></span>'}))}}}),AOS.init({disable:"phone"});const t=document.getElementById("form");t.addEventListener("submit",(()=>{e.preventDefault();const o=new FormData(t);axios.post("https://usebasin.com/f/5013a8a412fc",o,options).then((e=>{200===e.status?(t.classList.add("_sending"),t.reset(),console.log("success")):(console.log("fail"),alert("Ошибка"),t.classList.remove("_sending"))})).catch((e=>console.log(e)))}));let o=document.querySelectorAll("._goto-block");if(o){let e=[];for(let t=0;t<o.length;t++){let l=o[t],s=l.getAttribute("href").replace("#","");""==s||~e.indexOf(s)||e.push(s),l.addEventListener("click",(function(e){document.querySelector(".menu__body._active")&&(menu_close(),body_lock_remove(500));let t=l.getAttribute("href").replace(""),o=document.querySelector("."+t);_goto(o,300),e.preventDefault()}))}window.addEventListener("scroll",(function(t){let o=document.querySelectorAll("._goto-block._active");if(o)for(let e=0;e<o.length;e++)o[e].classList.remove("_active");for(let t=0;t<e.length;t++){let o=e[t],l=document.querySelector("."+o);if(l){let e=offset(l).top,t=l.offsetHeight;if(pageYOffset>e-window.innerHeight/3&&pageYOffset<e+t-window.innerHeight/3){let e=document.querySelectorAll('._goto-block[href="#'+o+'"]');for(let t=0;t<e.length;t++)e[t].classList.add("_active")}}}}))}})();